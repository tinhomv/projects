!function(a){a.fn.flexisel=function(b){var f,c=a.extend({visibleItems:4,animationSpeed:200,autoPlay:!1,autoPlaySpeed:3e3,pauseOnHover:!0,setMaxWidthAndHeight:!1,enableResponsiveBreakpoints:!0,clone:!0,responsiveBreakpoints:{portrait:{changePoint:480,visibleItems:1},landscape:{changePoint:640,visibleItems:2},tablet:{changePoint:768,visibleItems:3}}},b),d=a(this),e=a.extend(c,b),g=!0,h=e.visibleItems,i=d.children().length,j=[],k={init:function(){return this.each(function(){k.appendHTML(),k.setEventHandlers(),k.initializeItems()})},initializeItems:function(){var b=d.parent(),g=(b.height(),d.children());k.sortResponsiveObject(e.responsiveBreakpoints);var i=b.width();f=i/h,g.width(f),e.clone&&(g.last().insertBefore(g.first()),g.last().insertBefore(g.first()),d.css({left:-f})),d.fadeIn(),a(window).trigger("resize")},appendHTML:function(){if(d.addClass("nbs-flexisel-ul"),d.wrap("<div class='nbs-flexisel-container'><div class='nbs-flexisel-inner'></div></div>"),d.find("li").addClass("nbs-flexisel-item"),e.setMaxWidthAndHeight){var b=a(".nbs-flexisel-item img").width(),c=a(".nbs-flexisel-item img").height();a(".nbs-flexisel-item img").css("max-width",b),a(".nbs-flexisel-item img").css("max-height",c)}if(a("<div class='nbs-flexisel-nav-left'></div><div class='nbs-flexisel-nav-right'></div>").insertAfter(d),e.clone){var f=d.children().clone();d.append(f)}},setEventHandlers:function(){var b=d.parent(),c=d.children(),i=b.find(a(".nbs-flexisel-nav-left")),j=b.find(a(".nbs-flexisel-nav-right"));a(window).on("resize",function(g){k.setResponsiveEvents();var l=a(b).width(),m=a(b).height();f=l/h,c.width(f),e.clone?d.css({left:-f}):d.css({left:0});var n=i.height()/2,o=m/3-n;i.css("top",o+"px"),j.css("top",o+"px")}),a(i).on("click",function(a){k.scrollLeft()}),a(j).on("click",function(a){k.scrollRight()}),1==e.pauseOnHover&&a(".nbs-flexisel-item").on({mouseenter:function(){g=!1},mouseleave:function(){g=!0}}),1==e.autoPlay&&setInterval(function(){1==g&&k.scrollRight()},e.autoPlaySpeed)},setResponsiveEvents:function(){var b=a("html").width();if(e.enableResponsiveBreakpoints){var c=j[j.length-1].changePoint;for(var d in j){if(b>=c){h=e.visibleItems;break}if(b<j[d].changePoint){h=j[d].visibleItems;break}}}},sortResponsiveObject:function(a){var b=[];for(var c in a)b.push(a[c]);b.sort(function(a,b){return a.changePoint-b.changePoint}),j=b},scrollLeft:function(){if(d.position().left<0&&1==g){g=!1;var a=d.parent(),b=a.width();f=b/h;var c=d.children();d.animate({left:"+="+f},{queue:!1,duration:e.animationSpeed,easing:"linear",complete:function(){e.clone&&c.last().insertBefore(c.first()),k.adjustScroll(),g=!0}})}},scrollRight:function(){var a=d.parent(),b=a.width();f=b/h;var c=f-b,j=d.position().left+(i-h)*f-b;if(c<Math.ceil(j)&&!e.clone)1==g&&(g=!1,d.animate({left:"-="+f},{queue:!1,duration:e.animationSpeed,easing:"linear",complete:function(){k.adjustScroll(),g=!0}}));else if(e.clone&&1==g){g=!1;var l=d.children();d.animate({left:"-="+f},{queue:!1,duration:e.animationSpeed,easing:"linear",complete:function(){l.first().insertAfter(l.last()),k.adjustScroll(),g=!0}})}},adjustScroll:function(){var a=d.parent(),b=d.children(),c=a.width();f=c/h,b.width(f),e.clone&&d.css({left:-f})}};return k[b]?k[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error('Method "'+method+'" does not exist in flexisel plugin!'):k.init.apply(this)}}(jQuery);